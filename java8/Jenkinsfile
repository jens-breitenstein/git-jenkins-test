node('jdk8_mvn2') {
    checkout scm
    def common = load 'jenkins.d/Jenkinsfile-common.groovy'

    stage('Build & Deploy Java 8') {
        common.setupMavenSettings()
        dir('java8') {
            echo "=== Building java8 with Maven 2.2.1 ==="
            sh 'mvn clean install'
            sh 'mvn deploy -P nexus-deploy -DskipTests'
        }
    }
}
