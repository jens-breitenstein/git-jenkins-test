node('jdk24_mvn3') {
    checkout scm
    def common = load 'jenkins.d/Jenkinsfile-common.groovy'

    stage('Build & Deploy Java 24') {
        common.setupMavenSettings()
        dir('java24') {
            echo "=== Building java24 with Maven 3.9.6 ==="
            sh '''
                mvn clean install \
                    -Djenkins.jobName=$JOB_NAME \
                    -Djenkins.buildNumber=$BUILD_NUMBER \
                    -Djenkins.nodeName=$NODE_NAME
            '''

            sh 'mvn deploy -DskipTests'
        }
    }
}
